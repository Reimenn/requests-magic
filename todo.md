### 计划

- [ ] 监控器，纪录爬虫状态，方便的在 web 页面查看（独立模块）

- [ ] 代理池

- [ ] mini 爬虫配置器（通过简单的配置 xpath 或 正则表达式 快速实现爬虫）（独立模块）

- [ ] 将爬取情况同步到 sqlite 中，方便日志分析

- [x] 放弃 抛异常式的下载器和下载过滤器

- [ ] ? 命令控制

- [x] 全局请求头换到spider类里面

- [ ] ? 更适应爬虫项目的日志等级

- [x] 改善一下各种 `__str__` 方法，把自己的类名加上

- [x] 更改调度器与爬虫、管道的连接方式，改成调度器内实例化管道和爬虫

- [x] 一个函数实现请求、tags、md5等的持久化，保证可以整个工程持久化，还可以快速保存，取消正在运行的爬虫

- [x] 持久化的可中断爬虫模式 - beta

- [x] 给 Request 类添加转json以及从json生成的方法

### v1.2

- [x] 重请求添加到调度器（现在的重请求会忽略调度器的等待时间）

- [x] 给管道、爬虫等东西加个名字，显示日志的时候用

- [x] 添加一个快捷文件管道类和快捷屏幕输出类

- [x] 规范日志，新的等级制度

> info 表示普通日志，例如请求开示、请求结束、item保存完成等
> warning 表示爬取和数据问题，例如网站错误、连接超时等
> error 表示程序错误，例如代码出错、数据解析错误、持久化出错

- [x] 完整文档

- [x] 下载过滤中间件（下载-过滤），不需要返回值，依据请求结果在过滤器中抛出异常，效果和下载器中抛出异常相同

- [x] 预解析中间件（在调用解析函数之前的处理）

- [x] 管道队列

- [x] 更好地匹配 requests.request 的参数

### v1.1

- [x] 替换掉 Spider 类中的 item 方法和 request 方法，直接实例化类就行了

- [x] 自动去重，通过纪录 request 的 md5 实现

- [x] 下载器中超时重请求，通过捕获 Timeout 异常实现

- [x] 下载器中主动重请求，通过 raise RequestCanRetryError 实现

- [x] 全局请求头
